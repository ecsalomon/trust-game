<script>
    /* *************************************************************************
        BEGIN JAVASCRIPT
        
        Copy and paste the code below through the END JAVASCRIPT comment into
        the javascript editor for the question.
    ************************************************************************* */ 
    Qualtrics.SurveyEngine.addOnload(function(){		
        console.log("ready!");
	$j("fieldset > .QuestionBody").hide();
        $j('#NextButton').hide();
       
        // Save the results to Qualtrics   
	this.questionclick = function(event,element){
		if(element.type == 'radio') {
            for (var i = 0; i < roundMax; i++) {
                var var1 = 'controller'+(i+1);
                var var2 = 'gave'+(i+1);
                var var3 = 'returned'+(i+1);
                var var4 = 'punish'+(i+1);
                Qualtrics.SurveyEngine.setEmbeddedData(var1,controllerArray[i]);
                Qualtrics.SurveyEngine.setEmbeddedData(var2, gives[i]);
                Qualtrics.SurveyEngine.setEmbeddedData(var3, returned[i]);
                Qualtrics.SurveyEngine.setEmbeddedData(var4, punishes[i]);
            }
            Qualtrics.SurveyEngine.setEmbeddedData('score', score);
            Qualtrics.SurveyEngine.setEmbeddedData('training',trainingCondition);
            this.clickNextButton();
		}
	} 
    });



    /* ***********************************************************************
        Update settings for game here.
    *********************************************************************** */
    var controller1Max = 15; // how many times should Player 1 be Controller?
    var controller2max = 15; // how many times should Player 2 be controller?
    var roundMax = 30;       // how many rounds will the player play?
    var qualtrics = true;    // set to 'true' to send data to Qualtrics
    var blockTrials = true;  /* are the Controller assignments blocked (true)
                                or are they fully randomized (false) */
    var stingyMin = .0;      // min prop. tickets returned by stingy player
    var stingyMax = .1;      // max prop. tickets returned by stingy player
                                // stingy: association + Player 1 Controller
    var generousMin = .6;    // min prop. tickets returned by generous player
    var generousMax = .7;    // max prop. tickets returned by generous player
                                // generous: association + Player 2 Controller
    var fairMin = .45;       // min prop. tickets returned by fair player
    var fairMax = .55;       // max prop. tickets returned by fair player
                                // fair: no association OR no Controller
        
    /* ***********************************************************************
        Update this file list with paths to your *locally hosted* files (for
        example, files hosted on *your* Qualtrics account or your server).
    *********************************************************************** */
    // root URL for image files in Qualtrics file system
    var root = "https://s.qualtrics.com/ControlPanel/File.php?F=F_";
    var avatarFiles = new Array();
    avatarFiles.push(root+"4VMOAvQA1AESFJX"); // unique file ids
    avatarFiles.push(root+"a8E4fq4HMIw3wRn"); // upload the avatars to Qualtrics
    avatarFiles.push(root+"41qtXpnDxiLoTnT"); // and change the ids to match
    avatarFiles.push(root+"57M3YRh0kfWpdpr"); // your copies
    avatarFiles.push(root+"3sWu55iUZaIVoJn");
    avatarFiles.push(root+"e3su4OeukxIY9CZ");
    avatarFiles.push(root+"0oiJckoSOfpKTnD");
    avatarFiles.push(root+"9KuZG4ekZd4UWGx");
    avatarFiles.push(root+"eX8CjocdADHCYdv");
    avatarFiles.push(root+"9RGuX0mrqkvMHYN");
    avatarFiles.push(root+"3BCvo7dbIcMxLeZ");
    avatarFiles.push(root+"0jOCzPpysN3F02h");
    avatarFiles.push(root+"cHZpTL2OKihmxKd");
    avatarFiles.push(root+"5osYMdT6CxqEGc5");
    avatarFiles.push(root+"dnaeU4f35tPXfaR");
    avatarFiles.push(root+"b2Z4JXCknJPFBrL");
    avatarFiles.push(root+"b2urm5wlLyXBPcp");
    avatarFiles.push(root+"8kLN8v8UlC6NoQ5");
    avatarFiles.push(root+"5vZBKB7NkJ1mjs1");
    avatarFiles.push(root+"1ZddqNgJpNe5afP");
    avatarFiles.push(root+"9zC1P1OSQ05U3fn");
    avatarFiles.push(root+"8IbWG9VRYKB3Dbn");
    avatarFiles.push(root+"5orljVA2e8OIa7X");
    avatarFiles.push(root+"5swzD2G4puy2fDn");
    avatarFiles.push(root+"9vu3Mfg7NUSyaJT");
    avatarFiles.push(root+"3IBZ3muYDPZqDKR");
    avatarFiles.push(root+"2nLEiQXvtriNBMF");
    avatarFiles.push(root+"0PzlS9rV8wBfWS1");
    avatarFiles.push(root+"5guGfZ9AsYZZhQh");
    avatarFiles.push(root+"1HN5ae178prwa8J");
        
    // *** Initialize variables ***
    var score = 0; // how many tickets has the player won so far?
    var punish = 0; // did player punish Player 2 this round? 0 = no; 1 = yes
    var round = 1; // what round is it?
    var gives = []; // array of amount given each round
    var returned = []; // array of amount returned by Player 2 each round
    var punishes = []; // array of whether punishments were given or not
    var trainingCondition = Math.round(Math.random() ); // set training cond
    var index = 0;
    var controllerArray = new Array; // an array of assignments to Controller
    var controller; // who is controller this round? 
    

    // shuffle an array
    function shuffleArray(myArray) {
        for (var i = myArray.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var temp = myArray[i];
            myArray[i] = myArray[j];
            myArray[j] = temp;
        }
        return myArray;
    }

    // fill array of controller assignments
    function assignController() {
        // how many no Controller rounds?
        var n0 = roundMax - controller1Max - controller2Max;
        // randomize order of Controller assignment blocks
        var blockArray = shuffleArray([0, 1, 2]); 
        var counts = [n0, n1, n2];

        // if there are too many controller rounds, make an alert
        if (n0 < 0) {
            alert("The number of rounds (" + nMax + ") is less than the number 
                needed for Player 1 to be Controller " + n1 + " times AND Player
                2 to be Controller " + n2 + " times. Please fix this error in 
                the game settings before running the game.");
        }

        // build the array in blocks
        for (i in blockArray) {
            var j = 0;
            while (j < counts[blockArray[i]]) {
                controllerArray.push(blockArray[i]);
                j++;
            }
        }

        // if blocking in NOT desired, shuffle all assignments
        if (blocking == false) {
            controllerArray = shuffleArray(controllerArray);
        }
    }


    // When player starts the game, show them the avatar selection screen
    function showAvatars() {
        console.log("show avatars");
        $j("#instructions").hide();
        $j("#selectAvatar").show();
    }
        
    // show player's avatar & initialize game
    function pickAvatar(whichAvatar) {
        var player1uri = avatarFiles[whichAvatar];
        $j('#player1image').attr('src', player1uri);
        assignController();
        startRound();
    }

    // Start a round
    function startRound(){
        // if game is over, show the continue button and let the player leave
        // otherwise, start a new round of the game
        $j("#controllerOption").hide();
        $j("#returnedTickets").hide();
        $j("#punishmentSuccess").hide();
        $j("#showEndButton").hide();
        $j("#noSharing").hide();
        if (round > roundMax){
            console.log("round > roundMax");
            $j("#topBox").hide();
            $j("#finalScore").text(score);
            $j('#gameOver').show();
            $j("fieldset > .QuestionBody").show();
        } else {
            // reset the slider 0
            document.getElementById("giveNumber").value = 0;
            $j("#currentGiveValue").text("0");
            
            // Generate a random number between 2500 and 3500 that defines how
            // many ms player waits before Player 2 supposedly joins the game
            var playerWaitTime = Math.floor(Math.random() * 1000) + 2500;
            console.log(playerWaitTime);
            
            // randomly select an avatar for Player 2
            var player2 = Math.floor(Math.random()*30);
            var player2uri = avatarFiles[player2];                
            var sentTickets = 0; // how many tickets has player sent this round?
            var returnedTickets = 0; // how many tickets returned to player?
        
            // who is controller this round?
            controller = controllerArray[round - 1];
            console.log("Round: " + round + "; Controller: " + controller);
                
            // When the round begins, hide the avatar selection and show the
            // player that they are assigned to Player 1
            $j("#waitForReturn").hide();
            $j("#topBox").show();
            $j("#selectAvatar").hide();
            $j("#avatarBox").hide();
            $j("#matchingPlayers").show();
            $j("#loadingMatch").show();
            $j("#matchRoundNumber").text(round);
            $j("#roundNumber").text(round);
            $j("#roundBox").show();
            $j("#scoreBox").show();
            $j("#playerBox").show();
                
            // tell the player who is controller
            if (controller == 1){
                $j("#noController").hide();
                $j("#youAreController").show();
                $j("#player2isController").hide();
            } else if (controller == 2){
                $j("#noController").hide();
                $j("#youAreController").hide();
                $j("#player2isController").show();
            } else {
                $j("#noController").show();
                $j("#youAreController").hide();
                $j("#player2isController").hide();
            }
        
            // after a few seconds, the round begins
            setTimeout(function(){
                $j('#player2image').attr('src', player2uri);
                $j('#player2image').show();
                $j("#avatarBox").show();
                $j('#loadingMatch').hide();
                $j('#playRound').show();
            }, playerWaitTime);   
        }
    }

    // show the player the give interface
    function giveInterface() {
        $j('#matchingPlayers').hide();
        $j('#playRound').hide();
        score = score + 100;
        $j("#scoreValue").text(score);
        $j("#giveInterface").show();
    }
        
    // display to the player how many tickets they are giving away
    function outputUpdate(give) {
        document.querySelector('#currentGiveValue').value = give;
    }
        
    /* wait for player 2 to return tickets, give the controller the option to 
    punish, and then end the round */
    function returnTickets(){
        // initialize variables
        var ticketsGiven = document.getElementById("giveNumber").value;
        var p1amountKept = 100 - ticketsGiven; // # of tickets player 1 keeps?
        var tripleTickets; // how many tickets are given to Player 2?
        var returnPercent; // what proportion of tickets does Player 2 return?
        var returnAmount; // what number of tickets does player 2 return?
        var p2amountKept; // what number of tickets does player 2 keep?
        var punishmentAmount = 0; // how many tickets is the punishment worth?
        var playerWaitTime; // how long to wait for P2 to move
        var p2punish = false; // does P2 punish?

        gives[round - 1] = ticketsGiven;
        console.log("Round: " + round + "; Results, gives: " +gives[round - 1]);        
        
        // if P1 gave 0 tickets & P2 is not Controller, skip P2's turn    
        if (ticketsGiven == 0 & controller != 2){
            $j("#giveInterface").hide();
            $j("#noSharing").show();
            returned[round - 1] = ticketsGiven;
            console.log("Round: " + round + "; Results, returned: " + 
                returned[round - 1]);
            endRound(0);
        } else { // player 2's turn
            tripleTickets = ticketsGiven * 3; // triple number of tickets given
            
            // determine how many tickets to return/keep
            if (trainingCondition == 0 || controller = 0) {
                returnPercent = Math.random() * (fairMax - fairMin) + fairMin; 
            } else if (controller == 1) {
                returnPercent = Math.random() * (stingyMax - stingyMin) + stingyMin;
            } else {
                returnPercent = Math.random() * (generousMax - generousMin) + generousMin; 
            }
            returnAmount = Math.floor(tripleTickets * returnPercent);
            returned[round - 1] = returnAmount; // store in array
            console.log("Round: " + round + "; Results, returns: " + 
                returned[round - 1]);
            console.log(returnAmount);
            p2amountKept = tripleTickets - returnAmount;
            
            // determine value of punishment
            if (controller == 1) {
                punishmentAmount = Math.round(p2amountKept / 3);
            } else if (controller == 2) {
                punishmentAmount = Math.round(p1amountKept / 3);
            }
                
            // Generate a random number from 2500 to 5000 that defines how
            // many ms player waits before Player 2 supposedly returns tickets
            playerWaitTime = Math.floor(Math.random() * 2500) + 2500;
            console.log(playerWaitTime);
            
            // update score to reflect tickets given
            score = score - ticketsGiven;
            $j("#scoreValue").text(score);
            
            // tell P1 to wait for return
            $j("#giveInterface").hide();
            $j("#gaveNumber").text(ticketsGiven);
            $j("#receiveNumber").text(tripleTickets);
            $j("#returnedTickets").hide();
            $j("#waitForReturn").show();
            $j("#waitForMove").show();
                
            // after 2.5-5s, P2 sends tickets back & punishes if Controller
            setTimeout(function(){
                // P2 punishes if Controller & P1 gave < 40-60% of tickets;
                if (controller == 2 & ticketsGiven) {

                }
                score = score + returnAmount;
                $j("#scoreValue").text(score);
                $j("#waitForMove").hide();
                $j("#returnedNumber").text(returnAmount);
                $j("#punishmentNumber").text(punishmentAmount);
                $j("#returnedTickets").show();
                $j("#scoreValue").text(score);
                $j("#showEndButton").hide();
                    
                // if the player is the controller, give option to punish;
                // otherwise, end the round
                if (controller == 1){
                    $j("punishmentNumber").text(punishmentAmount);
                    $j("lostNumber").text(punishmentAmount);
                    $j("#controllerOption").show();
                } else {
                    endRound(0);
                }
            }, playerWaitTime);
        }
    }
        
    // display the final results of the round and allow the player to end it
    function endRound(punished){            
        punishes[round - 1] = punished;
        console.log("Round: " + round + "; Results, punishes: " + punishes[round - 1]);
        $j("#controllerOption").hide();
        round = round + 1;
        if (punished == 1){
            $j("#controllerOption").hide();
            $j("#showEndButton").show();
            $j("#punishmentSuccess").show();
        } else {
            $j("#showEndButton").show();
        }
    }
         
    /* *************************************************************************
        END JAVASCRIPT
        
        Copy and paste the code above through the BEGIN JAVASCRIPT comment into
        the javascript editor for the question.
    ************************************************************************* */
</script>


<!-- ***************************************************************************
    BEGIN QUESTION TEXT
        
    Copy and paste the code below through the END QUESTION TEXT comment into
    the html editor for the question.
**************************************************************************** -->     
<div id="gameboard" style="height:560px; background-color: #f7fcf0; border-style: solid; border-width: 5px; border-color: #081d58; padding: 10px; font-family: Arial, Helvetica, sans-serif; color: #081d58;">
      <div id="topBox" style="display:none; width: 465px; margin-left: auto; margin-right: auto;">
          <div id="playerBox" class="infoBox" style="display:none; width:95px; background-color: #253494; border-style: solid; border-width: 5px; border-color: #081d58; padding: 5px; margin: 10px; font-family: Arial, Helvetica, sans-serif; color: #ffffff; float: left; text-align: center;">
            <div class="boxTitle">You</div>
            <div class="boxContents" style="width:65px; height:60px; background-color: #ffffff; padding: 5px; margin-left: auto; margin-right: auto; margin-top: 5px; font-family: Arial, Helvetica, sans-serif; color: #081d58; text-align: center; font-size: xx-large;">
                <img id="player1image" class="playerImage" style="width:50px; height:50px;">
            </div>
          </div>
          <div id="roundBox" class="infoBox" style="display:none; width:95px; background-color: #253494; border-style: solid; border-width: 5px; border-color: #081d58; padding: 5px; margin: 10px; font-family: Arial, Helvetica, sans-serif; color: #ffffff; float: left; text-align: center;">
            <div class="boxTitle">Round</div>
            <div class="boxContents" style="width:65px; height:60px; background-color: #ffffff; padding: 5px; margin-left: auto; margin-right: auto; margin-top: 5px; font-family: Arial, Helvetica, sans-serif; color: #081d58; text-align: center; font-size: xx-large;">
                <div class="textContents" id="roundNumber" style="margin-top: 11px;"></div>
            </div>
          </div>
          <div id="scoreBox" class="infoBox" style="display:none; width:95px; background-color: #253494; border-style: solid; border-width: 5px; border-color: #081d58; padding: 5px; margin: 10px; font-family: Arial, Helvetica, sans-serif; color: #ffffff; float: left; text-align: center;">
            <div class="boxTitle">Tickets</div>
            <div class="boxContents" style="width:65px; height:60px; background-color: #ffffff; padding: 5px; margin-left: auto; margin-right: auto; margin-top: 5px; font-family: Arial, Helvetica, sans-serif; color: #081d58; text-align: center; font-size: x-large;">
                <div class="textContents" id="scoreValue" style="margin-top: 11px;"></div>
            </div>
          </div>
          <div id="avatarBox" class="infoBox" style="display:none; width:95px; background-color: #253494; border-style: solid; border-width: 5px; border-color: #081d58; padding: 5px; margin: 10px; font-family: Arial, Helvetica, sans-serif; color: #ffffff; float: left; text-align: center;">
            <div class="boxTitle">Player 2</div>
            <div class="boxContents" style="width:65px; height:60px; background-color: #ffffff; padding: 5px; margin-left: auto; margin-right: auto; margin-top: 5px; font-family: Arial, Helvetica, sans-serif; color: #081d58; text-align: center; font-size: xx-large;">
                <img id="player2image" class="playerImage" style="width:50px; height:50px;">
            </div>
          </div>
          <br><br><br><br><br><br><br><br>
      </div>
      <div id="message" style="width:80%;">
          <div id="giveInterface" style="display:none;">
              You have been given 100 raffle tickets.<br><br>
              How many tickets will you <span style="font-weight:bold;">give</span> to Player 2?<br><br>
              <div class="range-slider" data-slider>
                  <input type="range" id="giveNumber" min=0 max=100 step=1 value=0 oninput="outputUpdate(value)">
                      <output for="giveNumber" id="currentGiveValue">0</output>
              </div><br>
              <a href="javascript:returnTickets()">
                <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_bCMaxwrks4uUKcl">
              </a>
          </div>
          <div id="waitForReturn" style="display: none;">
              You gave Player 2 <span id="gaveNumber" style="font-weight: bold;"></span> of your tickets. These tickets were tripled before being passed on.<br><br>
              Player 2 received <span id="receiveNumber" style="font-weight: bold;"></span> tickets.<br><br>
              <div id="waitForMove" style="display: none;">
                Player 2 will decide how many tickets to return.<br><br>
                Waiting for Player 2 to move. . . .<br><br>
                <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_cuLNvJBnRzXU2RD" id="waitingForPlayer2">
              </div>
              <div id="returnedTickets" style="display: none;">
                  Player 2 has returned <span id="returnedNumber" style="font-weight: bold;"></span> tickets to you.<br><br>
                  <div id="controllerOption">
                    You may punish Player 2 by taking away <span id="punishmentNumber" style="font-weight: bold;"></span> of their tickets. Would you like to do this?<br>
                    <a href="javascript:endRound(1)">
                    <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_428JoN2ysMi54lT" style="padding: 5px;"></a>&nbsp;<a href="javascript:endRound(0)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_bDaZOz1sgiQS101" style="padding: 5px;"></a>
                  </div>
              </div>
          </div>
          <div id="showEndButton" style="display:none;">
            <div id="noSharing">You kept all of your tickets.</div>
            <div id="punishmentSuccess">Player 2 has lost tickets!</div>
            Press the button to end this round.<br>
            <a href="javascript:startRound(0)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5iJjE6rhiUxEqpf"></a>
          </div>
              
          </div>
          <div id="instructions">
            <br>You have been assigned to the role of <span style="font-weight:bold;">Player 1</span>!<br><br>
            Each round, you will receive 100 raffle tickets and will be matched with a different Player 2. <br><br>
            You may give as many of these tickets to Player 2 as you wish. Any tickets you give to Player 2 will be <span style="font-weight: bold;">tripled</span>. Then, Player 2 may return as many of the tripled tickets as they wish.<br><br>
            Some rounds, you will also get to be the <span style="font-weight: bold;">Controller</span>. On these rounds, you can punish Player 2 by taking away some of their tickets if you think they played unfairly.<br><br>
            On other rounds, there will be <span style="font-weight: bold;">no</span> Controller. All decisions by both players will be final.<br><br>
            <a href="javascript:showAvatars(0)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_3mbxmoTIIZ5xY7b"></a>&nbsp;&nbsp;&nbsp;Ready to begin? Press the button!<br>
          </div>
          <div id="selectAvatar" style="display:none;">
            Select an avatar to represent yourself in the game.<br>Your avatar will be shown to the players you are matched with.<br><br>
            <div id="avatarGrid">
                
                <a href="javascript:pickAvatar(0)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_4VMOAvQA1AESFJX" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(1)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_a8E4fq4HMIw3wRn" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(2)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_41qtXpnDxiLoTnT" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(3)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_57M3YRh0kfWpdpr" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(4)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_3sWu55iUZaIVoJn" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(5)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_e3su4OeukxIY9CZ" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                
                <a href="javascript:pickAvatar(6)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_0oiJckoSOfpKTnD" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(7)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_9KuZG4ekZd4UWGx" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(8)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_eX8CjocdADHCYdv" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(9)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_9RGuX0mrqkvMHYN" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(10)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_3BCvo7dbIcMxLeZ" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(11)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_0jOCzPpysN3F02h" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                
                <a href="javascript:pickAvatar(12)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_cHZpTL2OKihmxKd" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(13)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5osYMdT6CxqEGc5" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(14)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_dnaeU4f35tPXfaR" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(15)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_b2Z4JXCknJPFBrL" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(16)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_b2urm5wlLyXBPcp" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(17)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_8kLN8v8UlC6NoQ5" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                
                <a href="javascript:pickAvatar(18)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5vZBKB7NkJ1mjs1" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(19)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_1ZddqNgJpNe5afP" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(20)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_9zC1P1OSQ05U3fn" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(21)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_8IbWG9VRYKB3Dbn" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(22)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5orljVA2e8OIa7X" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(23)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5swzD2G4puy2fDn" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                
                <a href="javascript:pickAvatar(24)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_9vu3Mfg7NUSyaJT" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(25)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_3IBZ3muYDPZqDKR" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(26)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_2nLEiQXvtriNBMF" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(27)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_0PzlS9rV8wBfWS1" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(28)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5guGfZ9AsYZZhQh" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
                <a href="javascript:pickAvatar(29)"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_1HN5ae178prwa8J" class="avatarIcon" style="width: 55px; height: 55px; margin: 4px; padding: 4px; background-color: white;"></a>
            </div>
          </div>
          <div id="matchingPlayers" style="display:none;">
              <span id="youAreController"><span style="font-weight:bold;">You will be Controller this round!</span> If you feel Player 2 plays unfairly, you will have the opportunity to punish them when the round is over.</span>
              <span id="noController"><span style="font-weight:bold;">There will be no Controller this round.</span> The decisions made by both players will be final.</span>
              <span id="player2isController"><span style="font-weight:bold;">Player 2 will be Controller this round.</span> If Player 2 feels you play unfairly, they will have the opportunity to punish you when the round is over.</span>
              <br><br>
              <div id="loadingMatch" style="display:none;">Matching you with a player for Round <span id="matchRoundNumber"></span>. . . .<br><br>
                <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_cuLNvJBnRzXU2RD" id="matchLoadBar">
              </div>
              <div id="playRound" style="display:none;">Match found! Press the button to start the round.<br><br>
                <a href="javascript:giveInterface()"><img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_2nH6wQejyqHW1E1" id="playButton"></a>
              </div>
          </div>
          <div id="gameOver" style="display:none;">
            You've finished the game!<br><br>
            You have earned <span id="finalScore"></span> tickets for the $50 raffle!<br><br>
            Press the continue button at the bottom of the page to end the game and continue with the survey.<br><br>
          </div>
        </div>
    </div>
    <div id="imageCredit"><div>Icons made by <a href="http://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0.</a> <a href="http://www.flaticon.com/packs/cute-animals">Available here.</a></div>
<!-- ***************************************************************************
    END QUESTION TEXT
        
    Copy and paste the code above through the BEGIN QUESTION TEXT comment into
    the html editor for the question.
**************************************************************************** -->   
