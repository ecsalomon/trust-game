<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
        var $j = jQuery.noConflict();
    </script>
</head>

<body>
    <script>
        
        // *** Initialize variables ***
        var round = 1; // what round is it?
        var score = 0; // how many tickets has the player won so far?
        var sentTickets = 0; // how many tickets has the player sent this round?
        var returnedTickets = 0; // how many tickets returned to the player this round?
        var controller = 0; // is the player Controller this round? 0 = no; 1 = yes
        var player2avatar = 1; // what image to use to represent Player 2 this round?
        var punish = 0; // did the player punish Player 2 this round? 0 = no; 1 = yes
        var trainingCondition = "${e://Field/training}"; // pull in training condition from Qualtrics
        
        // *** Load Function *** 
        $j(function(){
            console.log("ready!");
            $j("#giveInterface").hide();
            $j("#waitForReturn").hide();
            $j("#returnedTickets").hide();
            $j("#matchingPlayers").hide();
            $j("#avatarBox").hide();
        })
    </script>
    <div id="gameboard">
      <span id="roundTitle">Round: <span id="roundNumber"></span></span>
      <div id="rightBox" style="float:right;">
          <div id="scoreBox">Score<br><span id="scoreValue"></span></div>
          <div id="avatarBox" >Player 2<br><span id="player2avatar"></span></div>
      </div>
      <div id="message" style="width:80%;">
          <div id="giveInterface">
              You have been given 10 raffle tickets.<br>
              How many will you <span style="font-weight:bold;">give</span> to Player 2?<br>
              <div class="range-slider" data-slider>
                  <input type="range" name="giveNumber" min=0 max=10 step=1 value=0 oninput="outputUpdate(value)">
                      <output for=fader id=volume>0</output>
                      <script>
                          function outputUpdate(give) {
                              document.querySelector('#volume').value = give;
                          }
                      </script>
              </div>
              <input id="giveButton" type="submit" value="Send">
          </div>
          <div id="waitForReturn">
              Player 2 has received <span id="receiveNumber"></span> tickets.<br>
              Waiting for Player 2 to move. . . .<br>
              <progress id="waitingForPlayer2"></progress>
          </div>
          <div id="returnedTickets">
              Player 2 has returned <span id="returnedNumber"></span> tickets to you.<br>
              <div id="controllerOption">
                You may punish player 2 by taking away <span id="punishmentNumber"></span> of their tickets. Would you like to do this?<br>
                    <input id="punishButton" type="submit" value="Yes"><input id="notPunish" type="submit" value="No">
              </div>
          </div>
          <!-- When players start, they select an avatar to represent themselves in game -->
          <div id="selectAvatar">
            You have been assigned to the role of Player 1!<br>
            Select an avatar to represent yourself in the game. This avatar will be shown to the players you are matched with.<br>&nbsp;<br>
            <!-- Row 1 of avatars -->
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_4VMOAvQA1AESFJX">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_a8E4fq4HMIw3wRn">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_41qtXpnDxiLoTnT">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_57M3YRh0kfWpdpr">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_3sWu55iUZaIVoJn">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_e3su4OeukxIY9CZ"><br>&nbsp;<br>
            <!-- Row 2 of avatars -->
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_0oiJckoSOfpKTnD">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_9KuZG4ekZd4UWGx">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_eX8CjocdADHCYdv">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_9RGuX0mrqkvMHYN">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_3BCvo7dbIcMxLeZ">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_0jOCzPpysN3F02h"><br>&nbsp;<br>
            <!-- Row 3 of avatars -->
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_cHZpTL2OKihmxKd">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5osYMdT6CxqEGc5">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_dnaeU4f35tPXfaR">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_b2Z4JXCknJPFBrL">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_b2urm5wlLyXBPcp">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_8kLN8v8UlC6NoQ5"><br>&nbsp;<br>
            <!-- Row 4 of avatars -->
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5vZBKB7NkJ1mjs1">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_1ZddqNgJpNe5afP">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_9zC1P1OSQ05U3fn">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_8IbWG9VRYKB3Dbn">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5orljVA2e8OIa7X">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5swzD2G4puy2fDn"><br>&nbsp;<br>
            <!-- Row 5 of avatars -->
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_9vu3Mfg7NUSyaJT">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_3IBZ3muYDPZqDKR">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_2nLEiQXvtriNBMF">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_0PzlS9rV8wBfWS1">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_5guGfZ9AsYZZhQh">&nbsp;
            <img src="https://s.qualtrics.com/ControlPanel/File.php?F=F_1HN5ae178prwa8J">
          </div>
          <div id="matchingPlayers">
              Matching you with a player for Round <span id="matchRoundNumber"></span>. . . .
              <progress id="matchingPlayers"></progress>
        </div>
    </div> 
</body>